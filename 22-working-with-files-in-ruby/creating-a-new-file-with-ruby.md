# Creating a New File with Ruby


การสร้างไฟล์ใหม่ขึ้นในภาษา Ruby จะใช้เมธอดของคลาส File เมธอดนี้รับค่ามาสองค่า คือค่าแรกคือชื่อไฟล์ที่จะสร้าง และค่าที่สองคือโหมดที่จะเปิดไฟล์

---
## ตารางโหมดต่างๆ

| mode               | คำอธิบาย                                                                     
|---|----------------------------------------|
| r	       |  เปิดไฟล์ **เพื่ออ่านอย่างเดียว** และ **ไฟล์ต้องมีอยู่แล้ว**ถ้าไฟล์ไม่มีจะเกิด **`Errno::ENOENT`** (File not found)  | 
| r+       |  เปิดไฟล์ **เพื่ออ่านและเขียน** และ **ไฟล์ต้องมีอยู่แล้ว**ถ้าไฟล์ไม่มีจะเกิด **`Errno::ENOENT`** (File not found)
| w       | **สร้างไฟล์ใหม่** หากไฟล์ไม่มีอยู่**จะสร้างไฟล์ใหม่ขึ้นมา** หากไฟล์มีอยู่แล้วไฟล์ที่มีอยู่จะถูกเชียนทับ
| w+       |**สร้างไฟล์ใหม่** หากไฟล์ไม่มีอยู่**จะสร้างไฟล์ใหม่ขึ้นมา** หากไฟล์มีอยู่แล้วไฟล์ที่มีอยู่จะถูกเชียนทับ สามารถ **อ่านและเขียน** ข้อมูลได้ในไฟล์เดียว
| a       | **สร้างไฟล์ใหม่** หากไฟล์ไม่มีอยู่**เขียนต่อท้ายข้อมูลเดิม** หากไฟล์มีอยู่แล้ว โดยไม่ลบข้อมูลเก่าใช้เมื่อคุณต้องการ **เพิ่มข้อมูลใหม่โดยไม่กระทบข้อมูลเดิม** 
| a+       | -   **สร้างไฟล์ใหม่** หากไฟล์ไม่มีอยู่**เขียนต่อท้ายไฟล์เดิม** หากไฟล์มีอยู่แล้ว สามารถ **อ่านและเขียน** ข้อมูลได้ในไฟล์เดียว
| b       | โหมดไฟล์ไบนารี ใช้ร่วมกับโหมดข้างต้น เฉพาะ Windows/DOS  
----
โดยที่modeต่างๆไม่ได้มีเเค่โหมดในการสร้างไฟล์ใหม่อย่างเดียวแต่มีโหมดเพื่อเอาไว้เปิดไฟล์และจำกัดสิทธ์การเข้าถึงของผู้เปิดไฟล์ได้อีกด้วย

## ตัวอย่าง

File.new("temp.txt", "w") 
=>  สร้างไฟล์ใหม่ในรูบี้

---
## ความแตกต่างในการสร้างไฟล์ ใน Ruby กับ python , c , java

 - ภาษา C
			
			FILE *fptr;  
			// การสร้างไฟล์
			fptr = fopen("filename.txt", "w");

 - ภาษา python
python จะมีโหมด "x" อยู่ด้วยหมายถึงโหมด exclusive โดยที่ถ้ายังไม่มีไฟล์นี้อยู่จะไม่ถูกเขียนทับ แต่จะจะเกิด **`FileExistsError`** เพื่อป้องกันการถูกเขียนทับ
				
			new_file = open("myfile.txt", "w")

- ภาษา Java

			
              File.createNewFile();


## เปรียบเทียบกับภาษา (Java, C, Python)

| ภาษา       | วิธีสร้างไฟล์ใหม่                          | ถ้าไฟล์มีอยู่แล้ว         | โหมดที่ใช้/ เมธอด         |
|------------|--------------------------------------------|---------------------------|-----------------------------|
| **Ruby**   | `File.new("temp.txt", "w")`            | จะถูกเขียนทับ   | `"w"` (write) |
| **Java**   | `File.createNewFile()`                     | return `false`            | เมธอด `createNewFile()`    |
| **Python** | `open("example.txt", "x")`                 | `FileExistsError`         | `"x"` (write)   |
| **C**      | `fopen("example.txt", "w")`       | จะถูกเขียนทับ            | `"w"` (write) |

## แหล่งที่มา
https://www.techotopia.com/index.php/Working_with_Files_in_Ruby#Creating_a_New_File_with_Ruby
https://www.w3schools.com/java/java_files.asp
https://www.w3schools.com/python/python_file_write.asp
https://www.w3schools.com/c/c_files.php

